<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Inicio-ReTest+</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@100;300;400;600;700&display=swap" rel="stylesheet">
</head>

<body>
    <app-navbar></app-navbar>

    <aside>
        <div class="filtro">
            <h3>Curso</h3>
            <select [(ngModel)]="selectedCursoIndex" (change)="getObjetivosAprendizaje(cursos[selectedCursoIndex]?.nivel)">
                <option selected disabled value="">Seleccionar curso</option>
                <option *ngFor="let curso of cursos; let i = index" [value]="i">{{curso.nivel}} - {{curso.seccion}}</option>
              </select>                           
          </div>          
    
          <div class="filtro">
            <h3>Asignatura</h3>
            <p>Matemáticas</p>   
          </div>
          
          <div class="filtro">
            <h3>Fecha de inicio</h3>
            <input [(ngModel)]="fechaInicio" type="datetime-local">
          </div>
          
          <div class="filtro">
            <h3>Fecha de término</h3>
            <input [(ngModel)]="fechaTermino" type="datetime-local">
          </div>
          
          <!--<button  (click)="createQuestions()">Crear</button> -->
          <button class="btn_enviar" style="cursor: pointer;" (click)="createTest()">Enviar</button>
    </aside>


    <main>
        <!--
            <div class="upload-container">
            <h3>Subir Imagen</h3>
            <div class="filtro">
                <h3>ID del Curso</h3>
                <input type="text" [(ngModel)]="selectedId">
            </div>
            
            <div class="filtro">
                <h3>Asignatura (Nivel)</h3>
                <input type="text" [(ngModel)]="selectedNivel">
            </div>
            <input type="file" #fileInput>
            <button (click)="uploadImage()">Subir imagen</button>
        </div>
        --> 
        <div class="filtro">
            <h3>Nombre de Evaluación</h3>
            <input type="text" [(ngModel)]="nombreEvaluacion" placeholder="Escribe el nombre de la evaluación..." style="width: 100%; height: 30px;">
          </div>
          
          
          <div class="filtro">
            <h3>Obj. Aprendizaje</h3>
            <select [(ngModel)]="selectedObjetivo" (change)="getPreguntas(cursos[selectedCursoIndex]?.nivel)" style="width: 100%; height: 30px;" >
                <option value="" disabled selected>Selecciona un objetivo de aprendizaje</option>
                <option *ngFor="let objetivo of objetivosAprendizaje" [value]="objetivo.id">{{objetivo.descripcion}}</option>
            </select>                          
        </div>
               
        <div class="curso_panel">
            <section class="webapp_creador prueba">
              <h1>Preguntas seleccionadas</h1>
              <div class="webapp_header_grid_prueba_base titulo_prueba">
                <h2 class="webapp_header">N°</h2>
                <h2 class="webapp_header">Pregunta</h2>
                <h2 class="webapp_header">Imagen</h2>
              </div>
            
              <div class="webapp_header_grid_prueba_base webapp_pregunta" *ngFor="let pregunta of preguntasSeleccionadas; let i = index" (click)="seleccionarPreguntaSeleccionada(pregunta)" [class.seleccionada]="pregunta.seleccionada">
                <div class="numero_pregunta"><span>{{ i + 1 }}</span></div>
                <div class="numero_pregunta"><h4>{{ pregunta.Pregunta }}</h4></div>
                <div class="numero_pregunta">
                  <img *ngIf="pregunta.url" [src]="pregunta.url" alt="Imagen de la pregunta">
                </div>
              </div>
            </section>
          
            <div class="button-container">
              <button class="btn-round" (click)="moverPreguntasSeleccionadas()">
                <span class="arrow_right"></span>
              </button>
              <button class="btn-round" (click)="moverPreguntasDeSeleccionadas()">
                <span class="arrow_left"></span>
              </button>
            </div>
          
            <section class="webapp_creador prueba">
              <div class="webapp_header_grid_prueba_base titulo_prueba">
                <h2 class="webapp_header">N°</h2>
                <h2 class="webapp_header">Pregunta</h2>
                <h2 class="webapp_header">Imagen</h2>
              </div>
          
              <div class="webapp_header_grid_prueba_base webapp_pregunta" *ngFor="let pregunta of preguntasDisponibles; let i = index" (click)="seleccionarPregunta(pregunta)" [class.seleccionada]="pregunta.seleccionada">
                <div class="numero_pregunta"><span>{{ i + 1 }}</span></div>
                <div class="numero_pregunta"><h4>{{ pregunta.Pregunta }}</h4></div>
                <div class="numero_pregunta">
                  <img *ngIf="pregunta.url" [src]="pregunta.url" alt="Imagen de la pregunta">
                </div>
              </div>
            </section>
          </div>
          
    </main>
</body>