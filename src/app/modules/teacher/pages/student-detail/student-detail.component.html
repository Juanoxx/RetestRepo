<body (click)="resetSelection($event)">
    <app-navbar></app-navbar>
    <main class="main_student">
        <section class="webapp webappstudent">
            <div class="webapp_header_grid">
                <h2 class="webapp_header">Estado</h2>
                <h2 class="webapp_header">Nombre Prueba</h2>
                <h2 class="webapp_header">Curso</h2>
                <h2 class="webapp_header">Intento</h2>
                <h2 class="webapp_header">Realizaci√≥n</h2>
                <h2 class="webapp_header">Nota</h2>
            </div>

            <div *ngFor="let test of tests" (click)="selectTest($event, test)" class="webapp_grid"
                [ngClass]="{'selected-test': selectedTest === test}" style="cursor: pointer;">
                <img class="test_online" src="../../../../../assets/IMG/Iconos/greenCircle_icon.svg"
                    alt="Estado de prueba">
                <h3 style="text-align: center;">{{ test.nombrePrueba }}</h3>
                <span>{{ curso?.nivel }} {{ curso?.seccion }}</span>
                <span>{{ parseAndIncrement(test.numIntento) }}</span>
                <span>{{ test.realizacion }}</span>
                <span>{{ test.calificacion }}</span>
            </div>
        </section>

        <section class="webapp_button_student">
            <a [routerLink]="['/teacher/cursos/prueba', userId,idCurso, idPrueba, selectedTest?.numIntento]" [style.pointer-events]="selectedTest ? 'auto' : 'none'">
                <button style="cursor: pointer;" [disabled]="!selectedTest" 
                    [ngStyle]="{'background-color': selectedTest ? 'green' : 'gray'}"
                    class="centered-button">Ver</button>
            </a>

            <a [routerLink]="['/teacher/cursos',idCurso,'detail']" class="centered-button">Volver</a>
        </section>
    </main>
</body>
